<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Reset Password - ENTHUSIASM 1.0</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="container">
    <h1>Create New Password</h1>
    <p>Please enter your new secure password below.</p>
    
    <!-- Token is passed from the server via EJS -->
    <form action="/reset-password/<%= token %>" method="POST" id="resetForm">
      
      <!-- New Password -->
      <label for="password">New Password</label>
      <input type="password" id="password" name="password" 
             placeholder="Min 6 characters" required 
             minlength="6" autocomplete="new-password">

      <!-- Confirm New Password -->
      <label for="confirmPassword">Confirm New Password</label>
      <input type="password" id="confirmPassword" name="confirmPassword" 
             placeholder="Repeat new password" required 
             minlength="6" autocomplete="new-password">

      <button type="submit">Update Password</button>
    </form>

    <div class="auth-links">
      <p><a href="/login">Back to Login</a></p>
    </div>
  </div>

  <script src="/js/script.js"></script>
  <script>
    // Simple client-side check to ensure passwords match
    const form = document.getElementById('resetForm');
    form.onsubmit = function(e) {
      const pass = document.getElementById('password').value;
      const confirm = document.getElementById('confirmPassword').value;
      if (pass !== confirm) {
        alert("Passwords do not match!");
        e.preventDefault();
      }
    };
  </script>
</body>
</html>